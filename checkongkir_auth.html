<!doctype html>
<html lang="en">
  <head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Site Metas -->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>DIGITALA</title>
    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
    <!-- font awesome style -->
    <link href="css/font-awesome.min.css" rel="stylesheet" />
    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet" />
    <!-- responsive style -->
    <link href="css/responsive.css" rel="stylesheet" />

    <!-- Select2 CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        /* font-family: Arial, sans-serif; */
        background: linear-gradient(
          to right,
          #ffffff,
          #8ac1d5
        ); /* Background with gradient */
      }

      /* CSS untuk memastikan elemen tersusun dengan rapi */
      .input-group {
        display: flex;
        align-items: center;
        justify-content: space-between; /* Jarak antara input field dan icon */
      }

      .form-control {
        flex: 1; /* Membuat input field mengambil ruang maksimum */
        margin-right: 10px; /* Jarak kecil antara input dan ikon */
      }

      .input-group-text {
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer; /* Pointer untuk interaksi */
      }

      .text-right {
        text-align: right; /* Small text rata kanan */
      }
    </style>
  </head>

  <body class="sub_page">
    <div class="hero_area">
      <!-- header section strats -->
      <header class="header_section">
        <div class="container-fluid">
          <nav class="navbar navbar-expand-lg custom_nav-container">
            <a class="navbar-brand" href="index.html">
              <span> DIGITALA </span>
            </a>

            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span class=""> </span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a
                    class="nav-link"
                    href="index.html"
                    style="margin-right: 10px"
                    >Home <span class="sr-only">(current)</span></a
                  >
                </li>

                <!-- CRM Dropdown -->
                <li class="nav-item dropdown-crm">
                  <a
                    class="nav-link dropdown-toggle-crm"
                    href="#"
                    id="navbarDropdownCRM"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    style="margin-right: 10px"
                  >
                    C R M
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-crm"
                    aria-labelledby="navbarDropdownCRM"
                  >
                    <a class="dropdown-item-crm" href="codcrm.html"
                      >Form COD CRM</a
                    >
                    <a class="dropdown-item-crm" href="tfcrm.html"
                      >Form TF CRM</a
                    >
                    <hr style="border: 1px solid #ccc; margin: 1px 0" />
                    <a class="dropdown-item-crm" href="result_codcrm.html"
                      >Result COD CRM</a
                    >
                    <a class="dropdown-item-crm" href="result_tfcrm.html"
                      >Result TF CRM</a
                    >

                    <hr style="border: 1px solid #ccc; margin: 1px 0" />
                    <a class="dropdown-item-crm" href="lookerstudio_crm.html"
                      >Dashboard CRM</a
                    >
                  </div>
                </li>

                <li class="nav-item dropdown-crm">
                  <a
                    class="nav-link dropdown-toggle-crm"
                    href="#"
                    id="navbarDropdownCRM"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    style="margin-right: 10px"
                  >
                    C S A
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-crm"
                    aria-labelledby="navbarDropdownCRM"
                  >
                    <a class="dropdown-item-crm" href="codakuisisi.html"
                      >Form COD CSA</a
                    >
                    <a class="dropdown-item-crm" href="tfakuisisi.html"
                      >Form TF CSA</a
                    >
                    <hr style="border: 1px solid #ccc; margin: 1px 0" />
                    <a class="dropdown-item-crm" href="result_codak.html"
                      >Result COD CSA</a
                    >
                    <a class="dropdown-item-crm" href="result_tfak.html"
                      >Result TF CSA</a
                    >

                    <hr style="border: 1px solid #ccc; margin: 1px 0" />
                    <a class="dropdown-item-crm" href="lookerstudio_csa.html"
                      >Dashboard CSA</a
                    >
                  </div>
                </li>

                <li class="nav-item dropdown-crm">
                  <a
                    class="nav-link dropdown-toggle-crm"
                    href="#"
                    id="navbarDropdownCRM"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    style="margin-right: 10px"
                  >
                    RESI
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-crm"
                    aria-labelledby="navbarDropdownCRM"
                  >
                    <a class="dropdown-item-crm" href="db_all_sby.html"
                      >RESI GD SBY</a
                    >
                    <!-- <a class="dropdown-item-crm" href="#.html">RESI GD PAMULANG</a> -->
                  </div>
                </li>

                <li class="nav-item dropdown-crm active">
                  <a
                    class="nav-link dropdown-toggle-crm"
                    href="#"
                    id="navbarDropdownCRM"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    style="margin-right: 10px"
                  >
                    CHECK ONGKIR
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-crm"
                    aria-labelledby="navbarDropdownCRM"
                  >
                    <a class="dropdown-item-crm" href="checkongkir_auth.html"
                      >Check Ongkir JNT</a
                    >
                    <!-- <a class="dropdown-item-crm" href="tfcrm.html">Form TF CRM</a>
					  <hr style="border: 1px solid #ccc; margin: 1px 0;">
					  <a class="dropdown-item-crm" href="result_codcrm.html">Result COD CRM</a>
					  <a class="dropdown-item-crm" href="result_tfcrm.html">Result TF CRM</a>

					  <hr style="border: 1px solid #ccc; margin: 1px 0;">
					  <a class="dropdown-item-crm" href="lookerstudio_crm.html">Dashboard CRM</a> -->
                  </div>
                </li>

                <!-- AKUISISI Dropdown -->
                <!-- <li class="nav-item dropdown-akuisisi">
                <a class="nav-link dropdown-toggle-akuisisi" href="#" id="navbarDropdownAKUISISI" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="margin-right: 10px;">
                  AKUISISI
                </a>
                <div class="dropdown-menu dropdown-menu-akuisisi" aria-labelledby="navbarDropdownAKUISISI">
                  <a class="dropdown-item-akuisisi" href="codakuisisi.html">Form COD CSA</a>
                  <a class="dropdown-item-akuisisi" href="tfakuisisi.html">Form TF CSA</a>
                </div>
              </li> -->

                <li class="nav-item dropdown-crm">
                  <a
                    class="nav-link dropdown-toggle-crm"
                    href="#"
                    id="navbarDropdownCRM"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    style="margin-right: 10px"
                  >
                    About
                  </a>
                  <div
                    class="dropdown-menu dropdown-menu-crm"
                    aria-labelledby="navbarDropdownCRM"
                  >
                    <a class="dropdown-item-crm" href="about.html">Wireflow</a>
                    <a class="dropdown-item-crm" href="versiondigitala.html"
                      >Version Digitala</a
                    >
                  </div>
                </li>

                <li class="nav-item">
                  <a
                    class="nav-link logout-mobile"
                    href="#"
                    onclick="logout()"
                    style="margin-right: 10px; color: #ffab6a"
                    >Logout</a
                  >
                </li>
              </ul>
              <div class="quote_btn-container">
                <a href="#" class="quote_btn" onclick="logout()">Logout</a>
              </div>
            </div>
          </nav>
        </div>
        <!-- CONTENT BERJALAN -->
        <div style="display: flex; justify-content: center; margin-top: 20px">
          <div
            style="
              overflow: hidden;
              white-space: nowrap;
              padding: 10px;
              background-color: transparent;
              width: 80%;
            "
          >
            <div
              style="
                display: inline-block;
                animation: marquee 30s linear infinite;
              "
            >
              <!-- update -->
              <!-- <strong style="color: #fff;"><span style="color: red;">*</span> Update 23/11/2024 : Penambahan Kolom Bukti Chat [Informasi Detail Dapat check melalui About > Version Digitala > November 2024 [V.3.0]. Semangat girlsssss</strong> -->
            </div>
          </div>
        </div>
      </header>
      <!-- end header section -->
    </div>
    <!-- contact section -->
    <section class="contact_section layout_padding">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-10 col-lg-8 offset-md-1 offset-lg-2">
            <div class="breadcrumb">
              <li><a href="index.html">Home</a></li>
              <li><a href="getstarted.html">Get Started</a></li>
              <li class="active" style="color: #f8842b">Check Ongkir JNT</li>
            </div>
            <div class="form_container">
              <div class="heading_container checkongkirjnt">
                <h2>CHECK ONGKIR <span style="color: #ffab6a">JNT </span></h2>
              </div>
              <div class="heading_container2 mb-5"></div>
              <form
                method="POST"
                action="https://script.google.com/macros/s/AKfycbzwFepZyQuY7o_KxmsCtjsqINtxvHFaG8_FxjE33pMCjk26TEfUtcfjdvol6F29YOw0/exec"
              >
                <div class="row">
                  <!-- Ekspedisi -->
                  <div class="col-md-12 mb-4">
                    <label for="ekspedisi" class="form-label"
                      >Ekspedisi<span class="wajib_diisi">*</span></label
                    >
                    <select
                      class="form-control form-label"
                      id="ekspedisi"
                      name="ekspedisi"
                      style="height: 50px"
                      required
                    >
                      <option hidden value="NINJA">NINJA</option>
                      <option value="JNT" selected>JNT</option>
                    </select>
                  </div>

                  <!-- Separator -->
                  <div class="col-md-12 mb-3">
                    <hr style="border: 1px solid #ccc; margin: 20px 0" />
                  </div>

                  <!-- Kota Asal -->
                  <div class="col-md-4 mb-4">
                    <label for="kota_asal" class="form-label">Kirim Dari</label>
                    <select
                      class="form-control form-label searchable-dropdown-kotaasal"
                      name="kota_asal"
                      id="kota_asal"
                      style="width: 100%; height: 50px"
                    >
                      <option value="" disabled selected hidden>
                        Pilih Kota Asal
                      </option>
                    </select>
                  </div>

                  <!-- Kecamatan Tujuan -->
                  <div class="col-md-4 mb-4">
                    <label for="kecamatan" class="form-label">Kirim Ke</label>
                    <select
                      class="form-control form-label searchable-dropdown-district"
                      name="kecamatan"
                      id="kecamatan"
                      style="width: 100%; height: 50px"
                    >
                      <option value="" disabled selected hidden>
                        Pilih Kota Tujuan
                      </option>
                    </select>
                  </div>

                  <!-- Berat -->
                  <div class="col-md-4 mb-4">
                    <label for="berat" class="form-label">Berat (Kg)</label>
                    <input
                      type="number"
                      class="form-control form-label"
                      id="berat"
                      name="berat"
                      placeholder="Masukan Berat"
                      value="1"
                      style="height: 50px"
                      min="1"
                      value="1"
                    />
                  </div>

                  <!-- Ongkir -->
                  <div class="col-md-12 mb-4">
                    <label for="harga" class="form-label">Ongkir</label>
                    <div
                      class="input-group align-items-center"
                      style="display: flex; justify-content: space-between"
                    >
                      <input
                        type="text"
                        class="form-control form-label"
                        id="harga"
                        name="harga"
                        readonly
                        placeholder="Ongkir akan otomatis diisi"
                        style="height: 50px; width: 80%"
                      />
                      <span
                        class="input-group-text"
                        id="copyHarga"
                        style="
                          cursor: pointer;
                          height: 100%;
                          align-items: center;
                        "
                      >
                        <i class="fa fa-copy" aria-hidden="true"></i>
                      </span>
                    </div>
                    <small class="form-text text-muted"
                      >*Harga di atas adalah harga total berdasarkan berat yang
                      diinput</small
                    >
                  </div>

                  <!-- Hidden Input -->
                  <input type="hidden" name="formType" value="codcrm" />

                  <!-- Submit Button -->
                  <div class="d-flex"></div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- end contact section -->
    <div class="footer_container">
      <!-- info section -->

      <!-- end info section -->

      <!-- footer section -->
      <footer class="footer_section">
        <div class="container">
          <p>
            &copy; <span id="displayYear"></span> All Rights Reserved By
            <a href="#">Data Analyst | PT Digi Herba Nusantara</a>
          </p>
        </div>
      </footer>
      <!-- footer section -->
    </div>
    <!-- jQery -->
    <script src="js/jquery-3.4.1.min.js"></script>
    <!-- popper js -->
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <!-- bootstrap js -->
    <script src="js/bootstrap.js"></script>
    <script src="js/custom.js"></script>
    <!-- 
    <script src="js/digitala.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    	<script>
		document.addEventListener('DOMContentLoaded', function () {
			fetch('https://script.google.com/macros/s/AKfycbxXaWKGQeADM0vvj-HvlBQaLrSpao5xKPSE_UH68pZuqUVMDFg2NeAZMTnEDvBlh3_z/exec')
				.then(response => response.json())
				.then(data => {
					const sortedKotaAsal = [...new Set(data.checkongkirjntnew.map(item => item[0]))].sort();
					populateKotaAsal(sortedKotaAsal, data.checkongkirjntnew);
				});

			function populateKotaAsal(sortedKotaAsal, ongkirDataNew) {
				const kotaAsalDropdown = $('#kota_asal');

				sortedKotaAsal.forEach(function (kota) {
					const option = new Option(kota, kota, false, false);
					kotaAsalDropdown.append(option);
				});

				handleDependentDropdown(ongkirDataNew);

				$('.searchable-dropdown-kotaasal').select2({
					placeholder: 'Pilih Kota Asal',
					allowClear: true,
				});

				$('.searchable-dropdown-district').select2({
					placeholder: 'Pilih Kota Tujuan',
					allowClear: true,
				});
			}

			function handleDependentDropdown(ongkirDataNew) {
				const kecamatanDropdown = $('#kecamatan');
				const hargaField = $('#harga');
				const beratField = $('#berat');

				$('#kota_asal').on('change', function () {
					const selectedKotaAsal = $(this).val();
					kecamatanDropdown.html('<option value="" disabled selected hidden>Pilih Kecamatan dan Kabupaten/Kota</option>');
					hargaField.val('');

					const filteredKecamatan = ongkirDataNew
						.filter(item => item[0] === selectedKotaAsal)
						.map(item => item[1]);
					const sortedKecamatan = [...new Set(filteredKecamatan)].sort();

					populateKecamatan(sortedKecamatan);
				});

				$('#kecamatan, #berat').on('change input', function () {
					const selectedKecamatan = $('#kecamatan').val();
					const berat = parseFloat(beratField.val()) || 1;

					const filteredHarga = ongkirDataNew.find(item => item[1] === selectedKecamatan)?.[2];
					if (filteredHarga) {
						const totalHarga = berat * parseFloat(filteredHarga);
						hargaField.val(formatRupiah(totalHarga));
					} else {
						hargaField.val('Harga tidak tersedia');
					}
				});

				function populateKecamatan(sortedKecamatan) {
					sortedKecamatan.forEach(function (kec) {
						const option = new Option(kec, kec, false, false);
						kecamatanDropdown.append(option);
					});
					kecamatanDropdown.trigger('change');
				}
			}

			function formatRupiah(angka) {
				return 'Rp' + angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
			}
		});
	</script>


	<script>
      document.addEventListener("DOMContentLoaded", function () {
        // Inisialisasi SweetAlert2
        const Swal = window.Swal;

        // Tombol copy handler
        document
          .getElementById("copyHarga")
          .addEventListener("click", function () {
            const hargaField = document.getElementById("harga");
            const hargaValue = hargaField.value;

            if (hargaValue && hargaValue !== "Harga tidak tersedia") {
              // Salin nilai ke clipboard
              navigator.clipboard
                .writeText(hargaValue)
                .then(() => {
                  // Tampilkan pesan sukses menggunakan SweetAlert2
                  Swal.fire({
                    icon: "success",
                    title: "Berhasil!",
                    text: "Ongkir berhasil disalin ke clipboard.",
                    showConfirmButton: false,
                    timer: 2000,
                  });
                })
                .catch((err) => {
                  // Tampilkan pesan error jika salin gagal
                  Swal.fire({
                    icon: "error",
                    title: "Gagal!",
                    text: "Terjadi kesalahan saat menyalin.",
                    showConfirmButton: false,
                    timer: 2000,
                  });
                });
            } else {
              // Tampilkan pesan jika field kosong
              Swal.fire({
                icon: "warning",
                title: "Peringatan!",
                text: "Field ongkir kosong atau tidak valid.",
                showConfirmButton: false,
                timer: 2000,
              });
            }
          });
      });
    </script>
</html> //deploy
<!-- new -->
